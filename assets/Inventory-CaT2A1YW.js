import{r as a,j as e}from"./index-hIJ5fvQW.js";import{e as A}from"./exportToExcel-DW2Cx06d.js";function D(){const[u,j]=a.useState(""),[x,k]=a.useState("all"),[r,n]=a.useState(()=>{const t=localStorage.getItem("inventory");return t?JSON.parse(t):[]}),[f,h]=a.useState(!1),[y,m]=a.useState(!1),[i,p]=a.useState({item:"",sku:"",costPrice:"",stock:""}),[N,b]=a.useState(null),[d,g]=a.useState(null);a.useEffect(()=>{const t=r.map(s=>s.createdAt?s:{...s,createdAt:Date.now()});n(t)},[]),a.useEffect(()=>{localStorage.setItem("inventory",JSON.stringify(r))},[r]);const w=()=>{const{item:t,sku:s,costPrice:c,stock:l}=i;if(!t||!s||!c||!l){alert("All fields are required");return}const o={...i,costPrice:parseFloat(c),stock:parseInt(l),createdAt:Date.now()};n([o,...r]),h(!1),p({item:"",sku:"",costPrice:"",stock:""})},v=t=>{b(t),g({...r[t]}),m(!0)},S=()=>{const{item:t,sku:s,costPrice:c,stock:l}=d;if(!t||!s||!c||!l){alert("All fields are required");return}const o=[...r];o[N]={...d,costPrice:parseFloat(c),stock:parseInt(l)},n(o),m(!1),b(null),g(null)},P=t=>{if(!window.confirm("Are you sure you want to delete this product?"))return;const c=r.filter((l,o)=>o!==t);n(c)},C=()=>{if(r.length===0){alert("No products to export");return}A(r)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"ðŸ“¦ Inventory"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ Add Product"}),e.jsx("button",{onClick:C,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Export to Excel"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search by item or SKU...",className:"w-full p-2 rounded border border-gray-300 bg-white text-gray-800 dark:bg-gray-800 dark:border-gray-600 dark:text-white",value:u,onChange:t=>j(t.target.value)}),e.jsxs("select",{className:"w-full p-2 rounded border border-gray-300 bg-white text-gray-800 dark:bg-gray-800 dark:border-gray-600 dark:text-white",value:x,onChange:t=>k(t.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"in",children:"In Stock"}),e.jsx("option",{value:"out",children:"Out of Stock"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded shadow",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-2",children:"Item"}),e.jsx("th",{className:"text-left p-2",children:"SKU"}),e.jsx("th",{className:"text-left p-2",children:"Cost Price"}),e.jsx("th",{className:"text-left p-2",children:"Stock"}),e.jsx("th",{className:"text-left p-2",children:"Status"}),e.jsx("th",{className:"text-left p-2",children:"Action"})]})}),e.jsx("tbody",{children:[...r].sort((t,s)=>s.createdAt-t.createdAt).filter(t=>{const s=t.item.toLowerCase().includes(u.toLowerCase())||t.sku.toLowerCase().includes(u.toLowerCase()),c=x==="all"?!0:x==="in"?t.stock>0:t.stock<=0;return s&&c}).map((t,s)=>e.jsxs("tr",{className:"border-t border-gray-300 dark:border-gray-600",children:[e.jsx("td",{className:"p-2",children:t.item}),e.jsx("td",{className:"p-2",children:t.sku}),e.jsxs("td",{className:"p-2",children:["â‚¹ ",t.costPrice]}),e.jsx("td",{className:"p-2",children:t.stock}),e.jsx("td",{className:"p-2",children:t.stock>5?e.jsx("span",{className:"text-green-600 font-semibold",children:"In Stock"}):t.stock>0?e.jsx("span",{className:"text-yellow-600 font-semibold",children:"Low Stock"}):e.jsx("span",{className:"text-red-600 font-semibold",children:"Out of Stock"})}),e.jsxs("td",{className:"p-2 flex gap-2",children:[e.jsx("button",{onClick:()=>v(s),className:"text-blue-600 hover:underline",children:"Edit"}),e.jsx("button",{onClick:()=>P(s),className:"text-red-600 hover:underline",children:"Delete"})]})]},s))})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add New Product"}),e.jsx("div",{className:"space-y-3",children:["item","sku","costPrice","stock"].map(t=>e.jsx("input",{type:t==="costPrice"||t==="stock"?"number":"text",placeholder:t[0].toUpperCase()+t.slice(1),className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700",value:i[t],onChange:s=>p({...i,[t]:s.target.value})},t))}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded",children:"Cancel"}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Add"})]})]})}),y&&d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Edit Product"}),e.jsx("div",{className:"space-y-3",children:["item","sku","costPrice","stock"].map(t=>e.jsx("input",{type:t==="costPrice"||t==="stock"?"number":"text",placeholder:t[0].toUpperCase()+t.slice(1),className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700",value:d[t],onChange:s=>g({...d,[t]:s.target.value})},t))}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded",children:"Cancel"}),e.jsx("button",{onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Save"})]})]})})]})}export{D as default};
